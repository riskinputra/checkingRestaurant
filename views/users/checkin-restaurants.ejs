<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Check In Restaurants</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css" rel="stylesheet">

    <style>
      .card {
        background: #fff;
        border-radius: 2px;
        display: inline-block;
        height: 60px;
        position: relative;
        width: 300px; }
      .mdl-layout__content .mdl-card__title {
        padding: 14px; }
      .mdl-card__title h4 {
        margin: 0 8px; }
      .space-between {
        display: flex;
        justify-content: space-between;
        width: 100% }
      .mdl-dialog__title {
        font-size: 16px; }
    </style>
</head>
<body>
  <!-- Always shows a header, even in smaller screens. -->
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
    <header class="mdl-layout__header">
      <div class="mdl-layout__header-row">
        <!-- Title -->
        <span class="mdl-layout-title">Check In</span>
      </div>
    </header>
    <div class="mdl-layout__drawer">
      <span class="mdl-layout-title">Title</span>
      <nav class="mdl-navigation">
        <a class="mdl-navigation__link" href="#">
          <i class="material-icons">history</i>
          &nbsp;&nbsp;CHECKIN HISTORY
        </a>
        <a class="mdl-navigation__link" href="#">
          <i class="material-icons">favorite</i>
          &nbsp;&nbsp;MOST VISITED PLACE
        </a>
      </nav>
    </div>
    <main class="mdl-layout__content">
      <div class="mdl-grid">
        <% if (rowsRestaurant.length > 0) { %>
          <% rowsRestaurant.forEach(row => { %>
            <div class="card mdl-shadow--2dp mdl-cell mdl-cell--12-col-phone mdl-cell--4-col-desktop">
              <div class="mdl-card__title">
                <i class="material-icons">place</i>
                <div class="space-between">
                  <h4><%= row.name %></h4>
                  <!-- <button class="mdl-button mdl-js-button mdl-button--accent mdl-js-ripple-effect">
                    Check In
                  </button> -->
                  <button id="show-dialog" class="mdl-button mdl-js-button mdl-button--accent mdl-js-ripple-effect show-modal">Check In</button>

                  <dialog class="mdl-dialog">
                    <form method="post">
                      <h6 class="mdl-dialog__title">Give your comment here</h6>
                      <div class="mdl-dialog__content">
                        <input type="hidden" name="restaurantId" value="<%= row.id %>">
                        <textarea name="details" cols="26" rows="4"></textarea>
                      </div>
                      <div class="mdl-dialog__actions">
                        <input type="submit" class="mdl-button" value="Check In">
                        <button class="mdl-button close">Close</button>
                      </div>
                    </form>
                  </dialog>
                </div>
              </div>
            </div>
          <% }) %>
        <% } else { %>
          <p>Sorry there is on place to check in right now.</p>
        <% } %>
      </div>
    </main>
  </div>

  <script>
    var dialog = document.querySelector('dialog');
    var showDialogButton = document.querySelector('#show-dialog');
    showDialogButton.addEventListener('click', function() {
      dialog.showModal();
    });
    dialog.querySelector('.close').addEventListener('click', function() {
      dialog.close();
    });
  </script>
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
</body>
</html>